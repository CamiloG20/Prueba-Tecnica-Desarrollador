<div class="p-4 bg-white rounded shadow-md max-w-lg mx-auto">
	<h3 class="text-lg font-bold mb-2">Familiares</h3>
	<div *ngIf="error" class="text-red-500 mb-2">{{ error }}</div>
	<ul class="mb-4">
		<li *ngFor="let fam of familiares" class="flex justify-between items-center border-b py-2">
			<span>{{ fam.nombre_familiar }} ({{ fam.parentesco }}) <span *ngIf="fam.fecha_nacimiento">- {{ fam.fecha_nacimiento | date:'yyyy-MM-dd' }}</span></span>
			<button class="bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600" (click)="onDelete(fam.id)">Eliminar</button>
		</li>
	</ul>
	<form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-2">
		<div>
			<input formControlName="nombre_familiar" type="text" placeholder="Nombre del familiar" class="w-full border rounded px-2 py-1" />
			<div *ngIf="form.get('nombre_familiar')?.invalid && form.get('nombre_familiar')?.touched" class="text-red-500 text-sm">Nombre obligatorio</div>
		</div>
		<div>
			<input formControlName="parentesco" type="text" placeholder="Parentesco" class="w-full border rounded px-2 py-1" />
			<div *ngIf="form.get('parentesco')?.invalid && form.get('parentesco')?.touched" class="text-red-500 text-sm">Parentesco obligatorio</div>
		</div>
		<div>
			<input formControlName="fecha_nacimiento" type="date" class="w-full border rounded px-2 py-1" />
		</div>
		<button type="submit" [disabled]="form.invalid || loading" class="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600">Agregar</button>
	</form>
</div>
