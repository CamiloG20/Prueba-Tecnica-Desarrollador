<!-- Mejora visual para familiares-modal.component.html -->
<div class="bg-white rounded-2xl shadow-2xl p-8 animate-fade-in">
  <h2 class="text-2xl font-bold mb-6 text-blue-700 text-center flex items-center gap-2">
    Familiares del empleado
  </h2>
  <div *ngIf="error" class="bg-red-100 text-red-700 p-2 rounded mb-4">{{error}}</div>
  <div *ngIf="loading" class="text-center text-blue-600 animate-pulse mb-4">Cargando...</div>
  <table *ngIf="!loading && familiares.length" class="min-w-full divide-y divide-gray-200 shadow rounded-lg overflow-hidden mb-6">
    <thead>
      <tr>
        <th class="px-4 py-2 bg-blue-100 text-blue-800 font-semibold text-left uppercase tracking-wide rounded-t-lg">Nombre</th>
        <th class="px-4 py-2 bg-blue-100 text-blue-800 font-semibold text-left uppercase tracking-wide">Parentesco</th>
        <th class="px-4 py-2 bg-blue-100 text-blue-800 font-semibold text-left uppercase tracking-wide">Fecha nacimiento</th>
        <th class="px-4 py-2 bg-blue-100 rounded-tr-lg"></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let f of familiares" class="odd:bg-white even:bg-blue-50 hover:bg-blue-100 transition">
        <td class="px-4 py-2">{{f.nombre}}</td>
        <td class="px-4 py-2">{{f.parentesco}}</td>
        <td class="px-4 py-2">
          {{ (f.fecha_nacimiento && f.fecha_nacimiento !== '0000-00-00') ? f.fecha_nacimiento : '-' }}
        </td>
        <td class="px-4 py-2 text-right">
          <button (click)="eliminarFamiliar(f.id)" class="bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded text-xs shadow transition flex items-center gap-1">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            Eliminar
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="!loading && !familiares.length" class="text-gray-500 mb-6 text-center">No hay familiares registrados.</div>
  <form [formGroup]="form" (ngSubmit)="agregarFamiliar()" class="space-y-4">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Nombre</label>
      <input formControlName="nombre" required placeholder="Ej: Juan" class="border border-gray-300 rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400 transition" />
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Parentesco</label>
      <input formControlName="parentesco" required placeholder="Ej: Madre, Padre, Hijo" class="border border-gray-300 rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400 transition" />
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Fecha de nacimiento</label>
      <input formControlName="fecha_nacimiento" type="date" class="border border-gray-300 rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400 transition" />
    </div>
    <div class="flex justify-end gap-2 mt-2">
      <button type="button" (click)="cerrar()" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-4 py-2 rounded shadow transition">Cerrar</button>
      <button type="submit" [disabled]="form.invalid || loading"
        class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded shadow transition flex items-center gap-2">
        Agregar
      </button>
    </div>
  </form>
</div>